@model PagedList.IPagedList<LUSSIS.Models.AdjVoucher>

@{
    ViewBag.Title = "History";
}

<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
<h2>Stock Adjustment History</h2>
<hr/>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark justify-content-between" style="border-radius: 5px;">
    <div class="navbar-nav mr-auto"></div>
    <div class="form-inline">
        @using (Ajax.BeginForm(new AjaxOptions
        {
            HttpMethod = "POST",
            InsertionMode = InsertionMode.Replace,
            UpdateTargetId = "stockAdjHistory"
        }))
        {
            <span class="d-inline nav-item active nav-link" style="color: whitesmoke">Find Stock Adjustments</span>
            @Html.TextBox("SearchString", null, new {@class = "form-control mr-sm-2", placeholder = "Search"})
            <button type="submit" class="btn btn-secondary my-2 my-sm-0">Search</button>
        }
        @using (Ajax.BeginForm(new AjaxOptions
        {
            HttpMethod = "POST",
            InsertionMode = InsertionMode.Replace,
            UpdateTargetId = "stockAdjHistory"
        }))
        {
            <div class="nav-item active nav-link">
                <input type="submit" value="Show All" class="btn btn-secondary my-2 my-sm-0"/>
                <input type="hidden" name="page" value="1"/>
            </div>
        }
    </div>
</nav>
<hr/>

@Html.Partial("_History", Model)

@section scripts {
    <script src="~/Scripts/jquery.unobstrusive-ajax.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/Scripts/jquery.tablesorter.min.js"></script>
    <link href="~/Content/sorter/style.css" rel="stylesheet" type="text/css"/>
    <script>
        $(document).ready(function() {
                $("#myTable").tablesorter({ dateFormat: "uk" });
            }
        );
    </script>
}

@*Authors: Koh Meng Guan*@